@using Microsoft.AspNetCore.Identity
@using Core.Entities
@inject SignInManager<AppUsers> SignInManager

@{
    ViewData["Title"] = "El7aq - Smart Transportation";
}

<div class="floating-elements"></div>

<!-- Hero Section -->
<section class="hero" id="hero">
    <div class="hero-content">
        <h1>Smart <span class="highlight">Transportation</span> Made Simple</h1>
        <p>Experience seamless travel with our comprehensive transportation management system. Book, track, and manage your journeys with ease.</p>
        
        <div class="hero-actions">
            <a asp-controller="Passenger" asp-action="SearchTrips" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;">Book Your Trip</a>
            <a href="#features" class="btn btn-outline" style="font-size: 1.1rem; padding: 1rem 2rem;">Learn More</a>
        </div>
        
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">50K+</span>
                <span class="stat-label">Happy Passengers</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">200+</span>
                <span class="stat-label">Routes</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">98%</span>
                <span class="stat-label">On-Time Rate</span>
            </div>
        </div>
    </div>
    
    <div class="hero-visual">
        <div class="booking-card">
            <div class="booking-form">
                <h3>Quick Trip Search</h3>
                <form asp-controller="Passenger" asp-action="SearchTrips" method="post">
                    <div class="form-group">
                        <label for="OriginCityId">From</label>
                        <select class="form-control" id="OriginCityId" name="OriginCityId">
                            <option value="">Select departure station</option>
                            <option value="1">Central Station</option>
                            <option value="2">Airport Terminal</option>
                            <option value="3">Downtown Hub</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="DestinationCityId">To</label>
                        <select class="form-control" id="DestinationCityId" name="DestinationCityId">
                            <option value="">Select destination</option>
                            <option value="4">Business District</option>
                            <option value="5">University Campus</option>
                            <option value="6">Shopping Center</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Search Trips</button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Dashboard Preview (shown when user is logged in) -->
@if (SignInManager.IsSignedIn(User))
{
    <section class="dashboard-preview" id="dashboard-preview">
        <div class="dashboard-header">
            <div>
                <h2>Welcome back, @User.FindFirst("FirstName")?.Value! 👋</h2>
                <p style="color: var(--text-light);">Here's what's happening with your account</p>
            </div>
        </div>
    
    <div class="quick-actions">
        <a asp-controller="Passenger" asp-action="SearchTrips" class="action-card" style="text-decoration: none; color: inherit;">
            <div class="feature-icon" style="margin-bottom: 1rem;">🚌</div>
            <h3>Book New Trip</h3>
            <p>Find and book your next journey</p>
        </a>
        <a asp-controller="Passenger" asp-action="MyBookings" class="action-card" style="text-decoration: none; color: inherit;">
            <div class="feature-icon" style="margin-bottom: 1rem;">📋</div>
            <h3>My Bookings</h3>
            <p>View and manage reservations</p>
        </a>
        <a asp-controller="Passenger" asp-action="ActiveBookings" class="action-card" style="text-decoration: none; color: inherit;">
            <div class="feature-icon" style="margin-bottom: 1rem;">📍</div>
            <h3>Active Trips</h3>
            <p>View your upcoming journeys</p>
        </a>
        <a href="#" class="action-card" style="text-decoration: none; color: inherit;">
            <div class="feature-icon" style="margin-bottom: 1rem;">💳</div>
            <h3>Payment History</h3>
            <p>View transactions & receipts</p>
        </a>
    </div>
    </section>
}

<!-- Features Section -->
<section class="features" id="features">
    <div class="section-header">
        <h2>Why Choose El7aq?</h2>
        <p>Discover the features that make us the preferred choice for thousands of travelers</p>
    </div>
    
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">🚌</div>
            <h3>Easy Booking</h3>
            <p>Book your trips in just a few clicks with our intuitive interface and real-time seat availability.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">📍</div>
            <h3>Real-Time Tracking</h3>
            <p>Track your bus location, get arrival notifications, and never miss your ride again.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">💳</div>
            <h3>Secure Payments</h3>
            <p>Multiple payment options with bank-level security. Easy refunds and transparent pricing.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">📱</div>
            <h3>Mobile First</h3>
            <p>Optimized mobile experience that works seamlessly across all devices and platforms.</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">🎫</div>
            <h3>Digital Tickets</h3>
            <p>No more paper tickets. Everything stored securely in your digital wallet.</p>
</div>
        
        <div class="feature-card">
            <div class="feature-icon">🚗</div>
            <h3>Driver Portal</h3>
            <p>Dedicated tools for drivers to manage routes, update status, and communicate efficiently.</p>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" style="margin-top: 120px; padding: 4rem 5%; background: white; border-radius: 20px 20px 0 0; box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.1);">
    <div class="container" style="max-width: 1400px; margin: 0 auto;">
        <div class="text-center mb-5">
            <h2 style="font-size: 2.5rem; color: #1a1a2e; margin-bottom: 1rem;">Contact Us</h2>
            <p style="font-size: 1.1rem; color: #666; max-width: 600px; margin: 0 auto;">
                Get in touch with us for any questions, support, or partnership opportunities
            </p>
        </div>
        
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="contact-card text-center" style="padding: 2rem; background: linear-gradient(135deg, #f8f9fa, white); border-radius: 15px; border: 1px solid rgba(39, 170, 226, 0.1); transition: all 0.3s ease;">
                    <div class="contact-icon" style="width: 60px; height: 60px; background: linear-gradient(135deg, #27AAE2, #218CBA); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">📘</div>
                    <h4 style="color: #1a1a2e; margin-bottom: 0.5rem;">Facebook</h4>
                    <p style="color: #666; margin-bottom: 1rem;">@@El7aqTransport</p>
                    <a href="#" style="color: #27AAE2; text-decoration: none; font-weight: 600;">Visit Page</a>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="contact-card text-center" style="padding: 2rem; background: linear-gradient(135deg, #f8f9fa, white); border-radius: 15px; border: 1px solid rgba(39, 170, 226, 0.1); transition: all 0.3s ease;">
                    <div class="contact-icon" style="width: 60px; height: 60px; background: linear-gradient(135deg, #27AAE2, #218CBA); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">💼</div>
                    <h4 style="color: #1a1a2e; margin-bottom: 0.5rem;">LinkedIn</h4>
                    <p style="color: #666; margin-bottom: 1rem;">El7aq Transportation</p>
                    <a href="#" style="color: #27AAE2; text-decoration: none; font-weight: 600;">Connect</a>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="contact-card text-center" style="padding: 2rem; background: linear-gradient(135deg, #f8f9fa, white); border-radius: 15px; border: 1px solid rgba(39, 170, 226, 0.1); transition: all 0.3s ease;">
                    <div class="contact-icon" style="width: 60px; height: 60px; background: linear-gradient(135deg, #27AAE2, #218CBA); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">📧</div>
                    <h4 style="color: #1a1a2e; margin-bottom: 0.5rem;">Email</h4>
                    <p style="color: #666; margin-bottom: 1rem;">info@el7aq.com</p>
                    <a href="mailto:info@el7aq.com" style="color: #27AAE2; text-decoration: none; font-weight: 600;">Send Email</a>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="contact-card text-center" style="padding: 2rem; background: linear-gradient(135deg, #f8f9fa, white); border-radius: 15px; border: 1px solid rgba(39, 170, 226, 0.1); transition: all 0.3s ease;">
                    <div class="contact-icon" style="width: 60px; height: 60px; background: linear-gradient(135deg, #27AAE2, #218CBA); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem;">📞</div>
                    <h4 style="color: #1a1a2e; margin-bottom: 0.5rem;">Phone</h4>
                    <p style="color: #666; margin-bottom: 1rem;">+1 (555) 123-4567</p>
                    <a href="tel:+15551234567" style="color: #27AAE2; text-decoration: none; font-weight: 600;">Call Now</a>
                </div>
            </div>
        </div>
        
        <div class="row mt-5">
            <div class="col-12">
                <div class="contact-info text-center" style="padding: 2rem; background: white; border-radius: 15px; border: 1px solid rgba(39, 170, 226, 0.1);">
                    <h4 style="color: #1a1a2e; margin-bottom: 1rem;">Office Hours</h4>
                    <p style="color: #666; margin-bottom: 0.5rem;">Monday - Friday: 8:00 AM - 6:00 PM</p>
                    <p style="color: #666; margin-bottom: 0.5rem;">Saturday: 9:00 AM - 4:00 PM</p>
                    <p style="color: #666;">Sunday: Closed</p>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .contact-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    @@media (max-width: 768px) {
        #contact {
            margin-top: 100px;
            padding: 2rem 3%;
        }
    }
</style>

@section Scripts {
    <script>
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href').startsWith('#') && this.getAttribute('href').length > 1) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('.header');
            if (header) {
                if (window.scrollY > 100) {
                    header.style.background = 'rgba(255, 255, 255, 0.98)';
                    header.style.boxShadow = '0 2px 20px rgba(39, 170, 226, 0.15)';
                } else {
                    header.style.background = 'rgba(255, 255, 255, 0.95)';
                    header.style.boxShadow = '0 2px 20px rgba(39, 170, 226, 0.1)';
                }
            }
        });

    </script>
}
